<!DOCTYPE html5>
<head>
  <meta charset="utf-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />
  <link href="effects.css" rel="stylesheet" />
  <link href="pageOne.css" rel="stylesheet" />
  <link href="pageTwo.css" rel="stylesheet" />
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
    crossorigin="anonymous"
  />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&display=swap"
    rel="stylesheet"
  />
  <script
    src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
    integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
    crossorigin="anonymous"
  ></script>
  <meta name="description" content="" />
  <meta name="author" content="Thiago Lima" />
  <title>For my favorite</title>
</head>
<!-- <script>
    alert('Para uma melhor imersão, coloque o celular na horizontal ↺');
</script> -->

<!-- EFEITOS -->
<script>
  let intervalId; // Declara a variável global para armazenar o identificador do intervalo

  function startCount() {
    intervalId = setInterval(function () {
      var _segundo = 1000;
      var _minuto = _segundo * 60;
      var _hora = _minuto * 60;
      var _dia = _hora * 24;

      var atual = new Date("06/01/2024 21:00:00");
      var fim = new Date();

      var diferenca = fim - atual;

      var dias = Math.floor(diferenca / _dia);
      var horas = Math.floor((diferenca % _dia) / _hora);
      var minutos = Math.floor((diferenca % _hora) / _minuto);
      var segundos = Math.floor((diferenca % _minuto) / _segundo);

      console.log(dias);
      document.getElementById("contador").innerHTML = dias + " dias, ";
      document.getElementById("contador").innerHTML += horas + " horas, ";
      document.getElementById("contador").innerHTML += minutos + " minutos e ";
      document.getElementById("contador").innerHTML += segundos + " segundos";
    }, 1000);
  }

  function stopCount() {
    setTimeout(() => {
      clearInterval(intervalId);
      console.log("Intervalo parado.");
    }, 1000); // Parando o intervalo após 10 segundos
  }

  startCount(); // Inicia a contagem
  function submit(hidden, visible) {
    const elementoHidden = hidden ? document.querySelector("." + hidden) : null; // Seleciona o elemento oculto
    const elementoVisible = visible
      ? document.querySelector("." + visible)
      : null; // Seleciona o elemento visível
    const buttons = document.querySelectorAll(".buttons");

    // Função para iniciar a transição
    function startTransition(element) {
      element.classList.remove("show"); // Remove a classe 'show' para reiniciar a transição
      element.classList.add("transition-white"); // Adiciona a classe 'transition-white' ao elemento
      // Inicia a transição após 1 segundo
      setTimeout(() => {
        element.classList.add("show"); // Faz a transição de opacidade e cor de fundo
      }, 100); // Delay pequeno para ativar a transição
    }

    // Iniciar transição no elemento visível
    if (elementoVisible) {
      startTransition(elementoVisible);
    }

    // Alterna a visibilidade dos elementos
    if (elementoVisible) {
      elementoVisible.classList.toggle("hidden"); // Torna o elemento visível
    }

    if (elementoHidden) {
      elementoHidden.classList.toggle("hidden"); // Torna o elemento oculto
    }

    // Esconde todos os botões
    buttons.forEach(function (button) {
      button.classList.add("hidden");
    });
  }

  stopCount(); // Chama a função para parar o intervalo depois de 10 segundos
</script>
<body>
  <header></header>
  <main>
    <div id="Stars"></div>
    <div class="background-message" id="remove">
      <div class="message">
        Mostrando que cada segundo ao seu lado é um pedaço do tempo que jamais
        trocaria
      </div>
    </div>

    <div id="pageOne" class="step1">
      <div id="clock-modal">
        <div id="clock">
          <img src="clock.webp" />
        </div>
        <div id="clock-times">
          <label>Ínício da história:</label> 2020<br />
          <label>Reencontro:</label> <i id="contador"></i>
        </div>
        <br />
      </div>
      <label class="continue texto-pulsante" onclick="submit('step1', 'step2')"
        >Continuar...</label
      >
    </div>

    <div id="pageTwo" class="step2 hidden">
      <div>
        <div
          class="starRecord selected"
          data-bs-toggle="modal"
          data-bs-target="#oneStarModal"
        ></div>
        <div
          class="starRecord"
          data-bs-toggle="modal"
          data-bs-target="#twoStarModal"
        ></div>
        <div
          class="starRecord"
          data-bs-toggle="modal"
          data-bs-target="#treeStarModal"
        ></div>
        <div
          class="starRecord"
          data-bs-toggle="modal"
          data-bs-target="#fourStarModal"
        ></div>
        <div
          class="starRecord"
          data-bs-toggle="modal"
          data-bs-target="#fiveStarModal"
        ></div>
        <!-- Modal -->
        <div
          class="modal fade"
          id="oneStarModal"
          tabindex="-1"
          aria-labelledby="oneStarModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="oneStarModalLabel">
                  First Date
                </h1>
              </div>
              <div class="modal-body">
                Começamos no Happn e fomos ao nosso primeiro encontro no
                shopping da cidade de piqueri
                <div class="photos">
                  <img src="photos/IMG-20241121-WA0085.jpg" />
                  <img src="photos/IMG-20241121-WA0086.jpg" />
                </div>
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-bs-dismiss="modal"
                >
                  Fechar
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal -->
        <div
          class="modal fade"
          id="twoStarModal"
          tabindex="-1"
          aria-labelledby="twoStarModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="twoStarModalLabel">
                  Parque de Franco
                </h1>
              </div>
              <div class="modal-body">
                Quando você foi toda pervetida querendo me beijar e eu apenas
                querendo te conhecer ( ͡° ͜ʖ ͡°)<br />
                <div class="photos">
                  <img src="photos/IMG-20241120-WA0068.jpg" />
                </div>
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-bs-dismiss="modal"
                >
                  Fechar
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal -->
        <div
          class="modal fade"
          id="treeStarModal"
          tabindex="-1"
          aria-labelledby="treeStarModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="treeStarModalLabel">
                  Dia da vacina
                </h1>
              </div>
              <div class="modal-body">
                Infelizmente não me recordo muito desse dia, e não temos fotinha
                :(
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-bs-dismiss="modal"
                >
                  Fechar
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal -->
        <div
          class="modal fade"
          id="fourStarModal"
          tabindex="-1"
          aria-labelledby="fourStarModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="fourStarModalLabel">
                  Reencontro
                </h1>
              </div>
              <div class="modal-body">
                Nosso primeiro reencontro, não tiramos nenhuma fotinha :(<br />
                Mas mano pagamos caro e só comemos uma pratada daqueles mini
                hamburgueres kkkkkkkk
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-bs-dismiss="modal"
                >
                  Fechar
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal -->
        <div
          class="modal fade"
          id="fiveStarModal"
          tabindex="-1"
          aria-labelledby="fiveStarModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="fiveStarModalLabel">
                  Ínicio da nova
                </h1>
              </div>
              <div class="modal-body">
                Tenho esperança que esse é apenas o começo da nossa jornada
                juntos :)
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-bs-dismiss="modal"
                >
                  Fechar
                </button>
              </div>
            </div>
          </div>
        </div>

        <div class="line line-1-2"></div>
        <div class="line line-2-3"></div>
        <div class="line line-3-4"></div>
        <div class="line line-4-5"></div>
      </div>

      <label class="continue texto-pulsante" onclick="submit('step2', 'step1')"
        >Lembrar no tempo...</label
      >
    </div>
  </main>
  <footer></footer>
</body>

<script>
  // Função para fazer a div desaparecer suavemente
  setTimeout(() => {
    const div = document.getElementById("remove");
    div.style.opacity = "0"; // Torna a div invisível
    setTimeout(() => {
      div.style.display = "none"; // Após a transição, oculta a div
    }, 1000); // Tempo suficiente para a transição de opacidade (1s)
  }, 5000); // 5000ms = 5 segundos

  // Configurações
  const numberOfStars = 200; // Número de estrelas

  // Função para gerar estrelas
  function createStars(element) {
    const starsContainer = document.getElementById(element); // Seleciona o contêiner
    const containerWidth = starsContainer.clientWidth; // Largura do contêiner
    const containerHeight = starsContainer.clientHeight; // Altura do contêiner

    for (let i = 0; i < numberOfStars; i++) {
      const star = document.createElement("div");
      star.classList.add("star");

      const random = Math.floor(Math.random() * 10);
      if (random > 5) {
        star.classList.add("star-pulsante");
      }

      // Posições aleatórias dentro do contêiner
      const x = Math.random() * containerWidth;
      const y = Math.random() * containerHeight;

      // Define a posição
      star.style.left = `${x}px`;
      star.style.top = `${y}px`;

      // Adiciona a estrela ao contêiner
      starsContainer.appendChild(star);
    }
  }

  // Gera as estrelas ao carregar a página
  //
  // Seleciona todas as divs com a classe 'starRecord'
  const stars = document.querySelectorAll(".starRecord");

  // Função que adiciona a classe 'selected' ao elemento clicado e remove de outros
  stars.forEach((star) => {
    star.addEventListener("click", () => {
      // Remove a classe 'selected' de todos os elementos
      stars.forEach((s) => s.classList.remove("selected"));
      // Adiciona a classe 'selected' ao elemento clicado
      star.classList.add("selected");
    });
  });

  window.onload = createStars("Stars");
</script>
